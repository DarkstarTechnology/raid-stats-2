<div mat-dialog-content>
    <ng-container *ngIf="playerStats as stats; else loading">
        <mat-card>
            <mat-card-header>
                <div mat-card-avatar class="player-avatar-image">
                    <svg width="64" height="64">
                        <!-- Include external SVG file -->
                        <image
                            xlink:href="'stats.player.name'.jpg"
                            width="64"
                            height="64"
                        />
                    </svg>
                </div>
                <mat-card-title>
                    {{ stats.player.name }}
                    <ng-container [ngSwitch]="stats.player.race">
                        <ng-template [ngSwitchCase]="race.Plant">
                            <svg
                                id="b"
                                data-name="Layer 2"
                                xmlns="http://www.w3.org/2000/svg"
                                height="36"
                                width="36"
                                viewBox="0 0 75.3 93.8"
                            >
                                <defs>
                                    <style>
                                        .d {
                                            fill: #fdc37d;
                                        }

                                        .d,
                                        .e,
                                        .f,
                                        .g {
                                            stroke-width: 0px;
                                        }

                                        .e {
                                            fill: #409804;
                                        }

                                        .f {
                                            fill: #eca858;
                                        }

                                        .g {
                                            fill: #68fc02;
                                        }
                                    </style>
                                </defs>
                                <g id="c" data-name="Layer 1">
                                    <g>
                                        <path
                                            class="d"
                                            d="M41.6,93.7c-4.6,0-9.2.2-13.7.1-5.7-.1-9.7-3.3-10.9-8.8-1.3-5.9-2.3-11.8-3.4-17.8h37.2c1.2,3-.1,5.4-.5,7.7-1.3,6.9-1.1,14.7-8.6,18.7Z"
                                        />
                                        <path
                                            class="g"
                                            d="M9.1,28.6c-1.2-5-1.7-10-1.2-15.2.2-2-.2-4.3,2-5.6.4.3.7.6,1.1.9h0c2.1,8.4,7.3,15.4,11.7,23.1.8-4.1,1.6-8.2,2.3-12.3,2.9-5.5,4.8-11.4,8.9-16.2,1.1-1.3,1.6-3.4,3.9-3.3,0,19.7,0,39.5,0,59.2-.3.1-.6.1-.8,0-2.8-10.4-9-18.2-18.1-24-3.3-2.1-7-3.6-9.5-6.7Z"
                                        />
                                        <path
                                            class="e"
                                            d="M37.6,59.3c0-19.7,0-39.5,0-59.2,4.7,2.3,6.2,7.2,8.7,11.2,1.6,2.6,2.6,5.5,3.9,8.3.8,4.4,1.7,8.8,2.5,13.2,2.8-3.8,4.6-7.8,6.7-11.8,2.1-4.2,3.3-8.8,6.7-12.3,2,6.7,1.8,13.4-.7,19.9-2.8,4.3-7.8,5.7-11.7,8.6-7.7,5.7-13,12.8-15.4,22.1-.3,0-.6.1-.8,0Z"
                                        />
                                        <path
                                            class="f"
                                            d="M37.6,59.3c.3,0,.6,0,.8,0,1.9,0,3.8,0,5.7,0,5.7.2,11.5.6,17.2-.2.6.3,1.2.8,1.8.8,2.3,0,3.9,1.2,3.9,3.5,0,2.6-1.6,3.7-4.1,4-.5,0-.9.3-1.5.5-.9,4.8-1.8,9.6-2.8,14.4-2,9.3-5,11.6-14.6,11.6-.8,0-1.6,0-2.5-.1,7.6-4,7.4-11.8,8.6-18.7.4-2.3,1.8-4.7.5-7.7H13.6c-2.4,0-4.9-.2-5.4-3.1-.5-2.9,1.5-4,4-4.5.4,0,.6-.7.9-1.1,5.9,1.7,11.9.6,17.8.6h5.8c.3.1.6.1.8,0Z"
                                        />
                                        <path
                                            class="g"
                                            d="M44.2,59.2c-1.9,0-3.8,0-5.7,0,2.4-9.3,7.7-16.4,15.4-22.1,3.9-2.9,8.8-4.3,11.7-8.6,3.5.6,5.5-3.2,8.8-2.9-7.3,13.7-17,25.2-30.1,33.7Z"
                                        />
                                        <path
                                            class="e"
                                            d="M36.7,59.3h-5.8c-7.6-5.2-14.7-11-20.1-18.5-3.3-4.5-7.5-8.6-8.7-14.5,2.8-.8,4.1,3.1,6.9,2.3,2.6,3.1,6.3,4.6,9.5,6.7,9.1,5.7,15.3,13.5,18.1,24Z"
                                        />
                                        <path
                                            class="g"
                                            d="M2.2,26.3c1.2,5.8,5.3,9.9,8.7,14.5,5.4,7.5,12.5,13.3,20.1,18.4-5.9,0-11.9,1-17.8-.6-5.9-3-9.5-7.9-11.1-14.1C.4,38.2-.4,32,.2,25.5c0,0,.2-.2.3-.2.2,0,.3.1.4.2l1.1,1s0-.1,0-.1Z"
                                        />
                                        <path
                                            class="e"
                                            d="M44.2,59.2c13.1-8.5,22.8-20,30.1-33.7,3.4,12.4-2.4,27.5-12.9,33.5-5.7.8-11.5.4-17.2.2Z"
                                        />
                                        <path
                                            class="g"
                                            d="M66.1,8.6c-3.4,3.5-4.6,8.1-6.7,12.3-2,4-3.9,8.1-6.7,11.8-.8-4.4-1.7-8.8-2.5-13.2,3.2-4.9,7.6-8.4,12.8-11.1,1-.5,2.2-1.9,3.2,0Z"
                                        />
                                        <path
                                            class="e"
                                            d="M24.9,19.5c-.8,4.1-1.6,8.2-2.3,12.3-4.3-7.7-9.6-14.6-11.7-23.2,6.3,1.4,10.2,6.1,14,10.8Z"
                                        />
                                        <path
                                            class="e"
                                            d="M10.9,8.7c-.4-.3-.7-.6-1.1-.9.7-.2.9.3,1.1.9Z"
                                        />
                                        <path
                                            class="e"
                                            d="M2.1,26.5l-1.1-1c.7,0,1.4-.1,1.1,1Z"
                                        />
                                    </g>
                                </g>
                            </svg>
                        </ng-template>
                        <ng-template [ngSwitchCase]="race.Demon">
                            <svg id="b" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg"  height="36"
                            width="36" viewBox="0 0 71.9 83.2">
                                <defs>
                                  <style>
                                    .d {
                                      fill: #c12b18;
                                      stroke-width: 0px;
                                    }
                                  </style>
                                </defs>
                                <g id="c" data-name="Layer 1">
                                  <g>
                                    <path class="d" d="M12.2,1.4c5.3-.1,6.8,3.7,7.6,7.8.7,3.6-.8,6.8-2.1,10.1-1.4,3.2-2,6.4,2,8.9,10.9-6.3,22-6.5,32.8.2,3.3-2.2,3.3-5,2.3-8.1-.9-2.5-2-5-2.5-7.6-1-5.7,1.4-9.3,8.6-12.7-4.5,8,.2,12.7,4.2,17.8,5,6.3,6.1,13.2,2.4,20.5,1.4,1.5,3-.6,4.3.8,0,.2-.2.7-.4,1-1.2,1.3-2.2,2.9-1.9,4.5,1.7,8.9-3.7,15.5-7.3,22.6-5.6,11.2-15.4,16.6-27.7,16-12.4-.6-20.9-7.3-26.2-18.5-3.1-6.7-7.1-13-6-20.9.3-2-1.9-2.9-2.4-4.7,1.4-1,2.9,0,4.8-.2C-.1,29.2,3.2,21.6,9.4,14.7c3.6-4,4.4-8.4,3-13.4h-.1ZM43.8,69.9c1,.8.9,2.9,3.3,2,4.7-1.8,10.5-9.1,10.8-15.1-4.2,3.8-10.4,3.6-13.1,9.4-.9-3.2-3.1-2.5-5.2-2.4-4.5.1-9.3.9-13.5-.3-4.3-1.2-8.1-4.4-12.5-6.9,1.9,7.8,6,12.6,12.7,15.5,1.7,0,.7-1.7,1.8-2.1,6,6.1,10.1,6.2,15.8,0ZM44.6,55.2c6.1,0,9-2.8,9.1-8.6-3,2.8-5.9,5.5-9.1,8.6ZM27,55.2c-2.9-3.1-5.1-6.2-8.6-8.4.6,5.8,2.9,8.1,8.6,8.4Z"/>
                                    <path class="d" d="M12.4,1.4c-.1,0-.3-.1-.4-.3,0,0,0-.2.1-.3,0,.2,0,.4.1.6,0,0,.1,0,.1,0Z"/>
                                  </g>
                                </g>
                              </svg>
                        </ng-template>
                    </ng-container>
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <p>Total Raids: {{ stats.totalRaids }}</p>
                <p>
                    Raid Participation:
                    {{ stats.raidParticipation | percent : "1.2-2" }}
                </p>
                <p>Average Time: {{ stats.avgTime | number : "1.2-2" }}</p>
                <p>
                    Average Position: {{ stats.avgPosition | number : "1.2-2" }}
                </p>
                <p>Snipe Attempts: {{ stats.snipeAttempts }}</p>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button mat-dialog-close>Close</button>
            </mat-card-actions>
        </mat-card>
    </ng-container>

    <ng-template #loading>
        <!-- Show loading indicator here -->
        <mat-spinner diameter="50" color="primary"></mat-spinner>
        <!-- Example: Using mat-spinner -->
    </ng-template>
</div>
